
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>1.5. Matplotlib &mdash; Scipy lecture notes</title>
    
    <link rel="stylesheet" href="../../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '2011.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="Scipy lecture notes" href="../../index.html" />
    <link rel="up" title="1. Getting started with Python for science" href="../index.html" />
    <link rel="next" title="1.6. Scipy : high-level scientific computing" href="../scipy.html" />
    <link rel="prev" title="1.4. Getting help and finding documentation" href="../help/help.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../scipy.html" title="1.6. Scipy : high-level scientific computing"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="../help/help.html" title="1.4. Getting help and finding documentation"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">Scipy lecture notes</a> &raquo;</li>
          <li><a href="../index.html" accesskey="U">1. Getting started with Python for science</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
          <div class="body">
            
  <div class="section" id="matplotlib">
<span id="id1"></span><h1>1.5. Matplotlib<a class="headerlink" href="#matplotlib" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">author:</th><td class="field-body">Mike Müller</td>
</tr>
</tbody>
</table>
<div class="section" id="introduction">
<h2>1.5.1. Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p><tt class="docutils literal"><span class="pre">matplotlib</span></tt> is probably the single most used Python package
for 2D-graphics. It provides both a very quick way to visualize
data from Python and publication-quality figures in many formats.
We are going to explore matplotlib in interactive mode covering
most common cases. We also look at the class library which is provided
with an object-oriented interface.</p>
</div>
<div class="section" id="ipython-and-the-pylab-mode">
<h2>1.5.2. IPython and the pylab mode<a class="headerlink" href="#ipython-and-the-pylab-mode" title="Permalink to this headline">¶</a></h2>
<div class="section" id="ipython">
<h3>1.5.2.1. IPython<a class="headerlink" href="#ipython" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://ipython.org/">IPython</a> is an enhanced interactive Python shell
that has lots of interesting features including named inputs and outputs,
access to shell commands, improved debugging and many more. When we start
it with the command line argument <tt class="docutils literal"><span class="pre">-pylab</span></tt> (<tt class="docutils literal"><span class="pre">--pylab</span></tt> since IPython
version 0.12), it allows interactive <tt class="docutils literal"><span class="pre">matplotlib</span></tt> sessions that has
Matlab/Mathematica-like functionality.</p>
</div>
<div class="section" id="pylab">
<h3>1.5.2.2. pylab<a class="headerlink" href="#pylab" title="Permalink to this headline">¶</a></h3>
<p><tt class="docutils literal"><span class="pre">pylab</span></tt> provides a procedural interface to the <tt class="docutils literal"><span class="pre">matplotlib</span></tt>
object-oriented plotting library. It is modeled closely
after Matlab(TM). Therefore, the majority of plotting
commands in <tt class="docutils literal"><span class="pre">pylab</span></tt> has Matlab(TM) analogs with similar arguments.
Important commands are explained with interactive examples.</p>
</div>
</div>
<div class="section" id="simple-plots">
<h2>1.5.3. Simple Plots<a class="headerlink" href="#simple-plots" title="Permalink to this headline">¶</a></h2>
<p>Let&#8217;s start an interactive session:</p>
<div class="highlight-python"><pre>$ ipython -pylab</pre>
</div>
<p>This brings us to the IPython prompt:</p>
<div class="highlight-python"><pre>IPython 0.8.1 -- An enhanced Interactive Python.
?       -&gt; Introduction to IPython's features.
%magic  -&gt; Information about IPython's 'magic' % functions.
help    -&gt; Python's own help system.
object? -&gt; Details about 'object'. ?object also works, ?? prints more.

Welcome to pylab, a matplotlib-based Python environment.
For more information, type 'help(pylab)'.</pre>
</div>
<div class="highlight-ipython"><div class="highlight"><pre><span class="go">In [1]:</span>
</pre></div>
</div>
<p>Now we can make our first, really simple plot:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="gp">In [2]: </span><span class="kn">import</span> <span class="nn">pylab</span> <span class="kn">as</span> <span class="nn">pl</span>
<span class="gp">In [3]: </span><span class="n">pl</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="go">Out[3]: </span><span class="p">[</span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">lines</span><span class="o">.</span><span class="n">Line2D</span> <span class="n">instance</span> <span class="n">at</span> <span class="mh">0x01AA26E8</span><span class="o">&gt;</span><span class="p">]</span>

<span class="go">In [4]:</span>
</pre></div>
</div>
<p>The numbers form 0 through 9 are plotted:</p>
<img alt="../../_images/simple.png" src="../../_images/simple.png" style="width: 50%;" />
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the following, we use the Python prompt &#8220;&gt;&gt;&gt;&#8221; rather than
the IPython one, as it facilitates copy-pasting in IPython (using the
<cite>%doctest_mode</cite>).</p>
</div>
<p>Now we can interactively add features to or plot:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pl</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;measured&#39;</span><span class="p">)</span>  
<span class="go">&lt;matplotlib.text.Text instance at ...&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">pl</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;calculated&#39;</span><span class="p">)</span> 
<span class="go">&lt;matplotlib.text.Text instance at ...&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">pl</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">&#39;Measured vs. calculated&#39;</span><span class="p">)</span> <span class="o">+</span><span class="n">ELLIPSIS</span>
<span class="go">&lt;matplotlib.text.Text instance at ...&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">pl</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>We get a reference to our plot:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">my_plot</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
</pre></div>
</div>
<p>and to our line we plotted, which is the first in the plot:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">line</span> <span class="o">=</span> <span class="n">my_plot</span><span class="o">.</span><span class="n">lines</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>Now we can set properties using <tt class="docutils literal"><span class="pre">set_something</span></tt> methods:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">line</span><span class="o">.</span><span class="n">set_marker</span><span class="p">(</span><span class="s">&#39;o&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>or the <tt class="docutils literal"><span class="pre">setp</span></tt> function:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">setp</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">&#39;g&#39;</span><span class="p">)</span>
<span class="go">[None]</span>
</pre></div>
</div>
<p>To apply the new properties we need to redraw the screen:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
<p>We can also add several lines to one plot:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">linear</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">square</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span> <span class="o">*</span> <span class="n">v</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">lines</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">linear</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">square</span><span class="p">)</span>
</pre></div>
</div>
<p>Let&#8217;s add a legend:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pl</span><span class="o">.</span><span class="n">legend</span><span class="p">((</span><span class="s">&#39;linear&#39;</span><span class="p">,</span> <span class="s">&#39;square&#39;</span><span class="p">))</span>     
<span class="go">&lt;matplotlib.legend.Legend instance at ...&gt;</span>
</pre></div>
</div>
<p>This does not look particularly nice. We would rather like to have it at
the left. So we clean the old graph (clf stands for &#8216;clear figure):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pl</span><span class="o">.</span><span class="n">clf</span><span class="p">()</span>
</pre></div>
</div>
<p>and print it anew providing new line styles (a green dotted
line with crosses for the linear and a red dashed line with
circles for the square graph):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">lines</span> <span class="o">=</span> <span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">linear</span><span class="p">,</span> <span class="s">&#39;g:+&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">square</span><span class="p">,</span> <span class="s">&#39;r--o&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now we add the legend at the upper left corner:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="n">legend</span><span class="p">((</span><span class="s">&#39;linear&#39;</span><span class="p">,</span> <span class="s">&#39;square&#39;</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s">&#39;upper left&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The result looks like this:</p>
<img alt="../../_images/legend.png" src="../../_images/legend.png" style="width: 50%;" />
<div class="green topic">
<p class="topic-title first">Exercises</p>
<ol class="arabic simple">
<li>Plot a simple graph of a sinus function in the range 0 to 3
with a step size of 0.01.</li>
<li>Make the line red. Add diamond-shaped markers with size of 5.</li>
<li>Add a legend and a grid to the plot.</li>
</ol>
</div>
</div>
<div class="section" id="properties">
<h2>1.5.4. Properties<a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<p>So far we have used properties for the lines.
There are three possibilities to set them:</p>
<ol class="arabic simple">
<li>as keyword arguments at creation time:
<tt class="docutils literal"><span class="pre">plot(x,</span> <span class="pre">linear,</span> <span class="pre">'g:+',</span> <span class="pre">x,</span> <span class="pre">square,</span> <span class="pre">'r--o')</span></tt>.</li>
<li>with the function <tt class="docutils literal"><span class="pre">setp</span></tt>: <tt class="docutils literal"><span class="pre">setp(line,</span> <span class="pre">color='g')</span></tt>.</li>
<li>using the <tt class="docutils literal"><span class="pre">set_something</span></tt> methods: <tt class="docutils literal"><span class="pre">line.set_marker('o')</span></tt></li>
</ol>
<p>Lines have several properties as shown in the following table:</p>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="82%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>alpha</td>
<td>alpha transparency on 0-1 scale</td>
</tr>
<tr class="row-odd"><td>antialiased</td>
<td>True or False - use antialised rendering</td>
</tr>
<tr class="row-even"><td>color</td>
<td>matplotlib color arg</td>
</tr>
<tr class="row-odd"><td>data_clipping</td>
<td>whether to use numeric to clip data</td>
</tr>
<tr class="row-even"><td>label</td>
<td>string optionally used for legend</td>
</tr>
<tr class="row-odd"><td>linestyle</td>
<td>one of <tt class="docutils literal"><span class="pre">-</span></tt> <tt class="docutils literal"><span class="pre">:</span></tt> <tt class="docutils literal"><span class="pre">-.</span></tt> <tt class="docutils literal"><span class="pre">-</span></tt></td>
</tr>
<tr class="row-even"><td>linewidth</td>
<td>float, the line width in points</td>
</tr>
<tr class="row-odd"><td>marker</td>
<td>one of <tt class="docutils literal"><span class="pre">+</span></tt> <tt class="docutils literal"><span class="pre">,</span></tt> <tt class="docutils literal"><span class="pre">o</span></tt> <tt class="docutils literal"><span class="pre">.</span></tt> <tt class="docutils literal"><span class="pre">s</span></tt> <tt class="docutils literal"><span class="pre">v</span></tt> <tt class="docutils literal"><span class="pre">x</span></tt> <tt class="docutils literal"><span class="pre">&gt;</span></tt> <tt class="docutils literal"><span class="pre">&lt;</span></tt>, etc</td>
</tr>
<tr class="row-even"><td>markeredgewidth</td>
<td>line width around the marker symbol</td>
</tr>
<tr class="row-odd"><td>markeredgecolor</td>
<td>edge color if a marker is used</td>
</tr>
<tr class="row-even"><td>markerfacecolor</td>
<td>face color if a marker is used</td>
</tr>
<tr class="row-odd"><td>markersize</td>
<td>size of the marker in points</td>
</tr>
</tbody>
</table>
<p>There are many line styles that can be specified with symbols:</p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Symbol</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">-</span></tt></td>
<td>solid line</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">--</span></tt></td>
<td>dashed line</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">-.</span></tt></td>
<td>dash-dot line</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">:</span></tt></td>
<td>dotted line</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">.</span></tt></td>
<td>points</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">,</span></tt></td>
<td>pixels</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">o</span></tt></td>
<td>circle symbols</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">^</span></tt></td>
<td>triangle up symbols</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">v</span></tt></td>
<td>triangle down symbols</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">&lt;</span></tt></td>
<td>triangle left symbols</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">&gt;</span></tt></td>
<td>triangle right symbols</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">s</span></tt></td>
<td>square symbols</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">+</span></tt></td>
<td>plus symbols</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">x</span></tt></td>
<td>cross symbols</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">D</span></tt></td>
<td>diamond symbols</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">d</span></tt></td>
<td>thin diamond symbols</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">1</span></tt></td>
<td>tripod down symbols</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">2</span></tt></td>
<td>tripod up symbols</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">3</span></tt></td>
<td>tripod left symbols</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">4</span></tt></td>
<td>tripod right symbols</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">h</span></tt></td>
<td>hexagon symbols</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">H</span></tt></td>
<td>rotated hexagon symbols</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">p</span></tt></td>
<td>pentagon symbols</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">|</span></tt></td>
<td>vertical line symbols</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">_</span></tt></td>
<td>horizontal line symbols</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">steps</span></tt></td>
<td>use gnuplot style &#8216;steps&#8217; # kwarg only</td>
</tr>
</tbody>
</table>
<p>Colors can be given in many ways: one-letter abbreviations, gray scale
intensity from 0 to 1, RGB in hex and tuple format as well as
any legal html color name.</p>
<p>The one-letter abbreviations are very handy for quick work.
With following you can get quite a few things done:</p>
<table border="1" class="docutils">
<colgroup>
<col width="57%" />
<col width="43%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Abbreviation</th>
<th class="head">Color</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>b</td>
<td>blue</td>
</tr>
<tr class="row-odd"><td>g</td>
<td>green</td>
</tr>
<tr class="row-even"><td>r</td>
<td>red</td>
</tr>
<tr class="row-odd"><td>c</td>
<td>cyan</td>
</tr>
<tr class="row-even"><td>m</td>
<td>magenta</td>
</tr>
<tr class="row-odd"><td>y</td>
<td>yellow</td>
</tr>
<tr class="row-even"><td>k</td>
<td>black</td>
</tr>
<tr class="row-odd"><td>w</td>
<td>white</td>
</tr>
</tbody>
</table>
<p>Other objects also have properties. The following table list
the text properties:</p>
<table border="1" class="docutils">
<colgroup>
<col width="26%" />
<col width="74%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>alpha</td>
<td>alpha transparency on 0-1 scale</td>
</tr>
<tr class="row-odd"><td>color</td>
<td>matplotlib color arg</td>
</tr>
<tr class="row-even"><td>family</td>
<td>set the font family, eg sans-serif, cursive, fantasy</td>
</tr>
<tr class="row-odd"><td>fontangle</td>
<td>the font slant, one of normal, italic, oblique</td>
</tr>
<tr class="row-even"><td>horizontalalignment</td>
<td>left, right or center</td>
</tr>
<tr class="row-odd"><td>multialignment</td>
<td>left, right or center only for multiline strings</td>
</tr>
<tr class="row-even"><td>name</td>
<td>font name, eg, Sans, Courier, Helvetica</td>
</tr>
<tr class="row-odd"><td>position</td>
<td>x,y location</td>
</tr>
<tr class="row-even"><td>variant</td>
<td>font variant, eg normal, small-caps</td>
</tr>
<tr class="row-odd"><td>rotation</td>
<td>angle in degrees for rotated text</td>
</tr>
<tr class="row-even"><td>size</td>
<td>fontsize in points, eg, 8, 10, 12</td>
</tr>
<tr class="row-odd"><td>style</td>
<td>font style, one of normal, italic, oblique</td>
</tr>
<tr class="row-even"><td>text</td>
<td>set the text string itself</td>
</tr>
<tr class="row-odd"><td>verticalalignment</td>
<td>top, bottom or center</td>
</tr>
<tr class="row-even"><td>weight</td>
<td>font weight, e.g. normal, bold, heavy, light</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="text">
<h2>1.5.5. Text<a class="headerlink" href="#text" title="Permalink to this headline">¶</a></h2>
<p>We&#8217;ve already used some commands to add text to our figure: <tt class="docutils literal"><span class="pre">xlabel</span></tt>
<tt class="docutils literal"><span class="pre">ylabel</span></tt>, and <tt class="docutils literal"><span class="pre">title</span></tt>.</p>
<p>There are two functions to put text at a defined position.
<tt class="docutils literal"><span class="pre">text</span></tt> adds the text with data coordinates:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pl</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t1</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="s">&#39;Text in the middle&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">figtext</span></tt> uses figure coordinates form 0 to 1:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">t2</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">figtext</span><span class="p">(</span><span class="mf">0.8</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">,</span> <span class="s">&#39;Upper right text&#39;</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../../_images/text.png" src="../../_images/text.png" style="width: 50%;" />
<p><tt class="docutils literal"><span class="pre">matplotlib</span></tt> supports TeX mathematical expression. So <tt class="docutils literal"><span class="pre">r'$\pi$'</span></tt>
will show up as:</p>
<div class="math">
<p><img src="../../_images/math/9e3b96acac89497c17b8b482907419c707b76cf0.png" alt="\pi"/></p>
</div><p>If you want to get more control over where the text goes, you
use annotations:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s">&#39;Here is something special&#39;</span><span class="p">,</span> <span class="n">xy</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span> 
<span class="go">&lt;matplotlib.text.Annotation instance at ...&gt;</span>
</pre></div>
</div>
<p>We will write the text at the position (1, 1) in terms of data.
There are many optional arguments that help to customize
the position of the text.  The arguments <tt class="docutils literal"><span class="pre">textcoords</span></tt> and
<tt class="docutils literal"><span class="pre">xycoords</span></tt> specifies what <tt class="docutils literal"><span class="pre">x</span></tt> and <tt class="docutils literal"><span class="pre">y</span></tt> mean:</p>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">argument</th>
<th class="head">coordinate system</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>figure points</td>
<td>points from the lower left corner of the figure</td>
</tr>
<tr class="row-odd"><td>figure pixels</td>
<td>pixels from the lower left corner of the figure</td>
</tr>
<tr class="row-even"><td>figure fraction</td>
<td>0,0 is lower left of figure and 1,1 is upper, right</td>
</tr>
<tr class="row-odd"><td>axes points</td>
<td>points from lower left corner of axes</td>
</tr>
<tr class="row-even"><td>axes pixels</td>
<td>pixels from lower left corner of axes</td>
</tr>
<tr class="row-odd"><td>axes fraction</td>
<td>0,1 is lower left of axes and 1,1 is upper right</td>
</tr>
<tr class="row-even"><td>data</td>
<td>use the axes data coordinate system</td>
</tr>
</tbody>
</table>
<p>If we do not supply <tt class="docutils literal"><span class="pre">xycoords</span></tt>, the text will be written at <tt class="docutils literal"><span class="pre">xy</span></tt>.</p>
<p>Furthermore, we can use an arrow whose appearance can also be described
in detail:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pl</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="o">&lt;</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">lines</span><span class="o">.</span><span class="n">Line2D</span> <span class="n">instance</span> <span class="n">at</span> <span class="o">...&gt;</span><span class="p">]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s">&#39;Here is something special&#39;</span><span class="p">,</span> <span class="n">xy</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span> 
<span class="go">&lt;matplotlib.text.Annotation instance at ...&gt;</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s">&#39;Here is something special&#39;</span><span class="p">,</span> <span class="n">xy</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">xytext</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span>
<span class="gp">... </span>            <span class="n">arrowprops</span><span class="o">=</span><span class="p">{</span><span class="s">&#39;facecolor&#39;</span><span class="p">:</span> <span class="s">&#39;r&#39;</span><span class="p">})</span> 
<span class="go">&lt;matplotlib.text.Annotation instance at ...&gt;</span>
</pre></div>
</div>
<div class="green topic">
<p class="topic-title first">Exercise</p>
<p>Annotate a line at two places with text. Use green and red arrows
and align it according to <tt class="docutils literal"><span class="pre">figure</span> <span class="pre">points</span></tt> and <tt class="docutils literal"><span class="pre">data</span></tt>.</p>
</div>
</div>
<div class="section" id="ticks">
<h2>1.5.6. Ticks<a class="headerlink" href="#ticks" title="Permalink to this headline">¶</a></h2>
<div class="section" id="where-and-what">
<h3>1.5.6.1. Where and What<a class="headerlink" href="#where-and-what" title="Permalink to this headline">¶</a></h3>
<p>Well formatted ticks are an important part of publishing-ready
figures. <tt class="docutils literal"><span class="pre">matplotlib</span></tt> provides a totally configurable system
for ticks. There are tick locators to specify where ticks
should appear and tick formatters to make ticks look like the way you want.
Major and minor ticks can be located and formatted independently from
each other. Per default minor ticks are not shown, i.e. there is only
an empty list for them because it is as <tt class="docutils literal"><span class="pre">NullLocator</span></tt> (see below).</p>
</div>
<div class="section" id="tick-locators">
<h3>1.5.6.2. Tick Locators<a class="headerlink" href="#tick-locators" title="Permalink to this headline">¶</a></h3>
<p>There are several locators for different kind of requirements:</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="81%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Class</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>NullLocator</td>
<td>no ticks</td>
</tr>
<tr class="row-odd"><td>IndexLocator</td>
<td>locator for index plots (e.g. where <tt class="docutils literal"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">range(len(y)</span></tt>)</td>
</tr>
<tr class="row-even"><td>LinearLocator</td>
<td>evenly spaced ticks from min to max</td>
</tr>
<tr class="row-odd"><td>LogLocator</td>
<td>logarithmically ticks from min to max</td>
</tr>
<tr class="row-even"><td>MultipleLocator</td>
<td>ticks and range are a multiple of base; either integer or float</td>
</tr>
<tr class="row-odd"><td>AutoLocator</td>
<td>choose a MultipleLocator and dynamically reassign</td>
</tr>
</tbody>
</table>
<p>All of these locators derive from the base class <tt class="docutils literal"><span class="pre">matplotlib.ticker.Locator</span></tt>.
You can make your own locator deriving from it.</p>
<p>Handling dates as ticks can be especially tricky. Therefore, <tt class="docutils literal"><span class="pre">matplotlib</span></tt>
provides special locators in <tt class="docutils literal"><span class="pre">matplotlib.dates</span></tt>:</p>
<table border="1" class="docutils">
<colgroup>
<col width="35%" />
<col width="65%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Class</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>MinuteLocator</td>
<td>locate minutes</td>
</tr>
<tr class="row-odd"><td>HourLocator</td>
<td>locate hours</td>
</tr>
<tr class="row-even"><td>DayLocator</td>
<td>locate specified days of the month</td>
</tr>
<tr class="row-odd"><td>WeekdayLocator</td>
<td>locate days of the week, e.g. MO, TU</td>
</tr>
<tr class="row-even"><td>MonthLocator</td>
<td>locate months, e.g. 10 for October</td>
</tr>
<tr class="row-odd"><td>YearLocator</td>
<td>locate years that are multiples of base</td>
</tr>
<tr class="row-even"><td>RRuleLocator</td>
<td>locate using a matplotlib.dates.rrule</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="tick-formatters">
<h3>1.5.6.3. Tick Formatters<a class="headerlink" href="#tick-formatters" title="Permalink to this headline">¶</a></h3>
<p>Similarly to locators, there are formatters:</p>
<table border="1" class="docutils">
<colgroup>
<col width="34%" />
<col width="66%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Class</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>NullFormatter</td>
<td>no labels on the ticks</td>
</tr>
<tr class="row-odd"><td>FixedFormatter</td>
<td>set the strings manually for the labels</td>
</tr>
<tr class="row-even"><td>FuncFormatter</td>
<td>user defined function sets the labels</td>
</tr>
<tr class="row-odd"><td>FormatStrFormatter</td>
<td>use a sprintf format string</td>
</tr>
<tr class="row-even"><td>IndexFormatter</td>
<td>cycle through fixed strings by tick position</td>
</tr>
<tr class="row-odd"><td>ScalarFormatter</td>
<td>default formatter for scalars;
autopick the fmt string</td>
</tr>
<tr class="row-even"><td>LogFormatter</td>
<td>formatter for log axes</td>
</tr>
<tr class="row-odd"><td>DateFormatter</td>
<td>use an strftime string to format the date</td>
</tr>
</tbody>
</table>
<p>All of these formatters derive from the base class <tt class="docutils literal"><span class="pre">matplotlib.ticker.Formatter</span></tt>.
You can make your own formatter deriving from it.</p>
<p>Now we set our major locator to 2 and the minor locator
to 1. We also format the numbers as decimals using the
<tt class="docutils literal"><span class="pre">FormatStrFormatter</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">major_locator</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">MultipleLocator</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">major_formatter</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">FormatStrFormatter</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%5.2f</span><span class="s">&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">minor_locator</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">MultipleLocator</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">major_locator</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_minor_locator</span><span class="p">(</span><span class="n">minor_locator</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">major_formatter</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pl</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
<p>After we redraw the figure our x axis should look like this:</p>
<img alt="../../_images/ticks.png" src="../../_images/ticks.png" style="width: 50%;" />
<div class="green topic">
<p class="topic-title first">Exercises</p>
<ol class="arabic simple">
<li>Plot a graph with dates for one year with daily
values at the x axis using the built-in module <tt class="docutils literal"><span class="pre">datetime</span></tt>.</li>
<li>Format the dates in such a way that only the first day
of the month is shown.</li>
<li>Display the dates with and without the year. Show the month
as number and as first three letters of the month name.</li>
</ol>
</div>
</div>
</div>
<div class="section" id="figures-subplots-and-axes">
<h2>1.5.7. Figures, Subplots, and Axes<a class="headerlink" href="#figures-subplots-and-axes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-hierarchy">
<h3>1.5.7.1. The Hierarchy<a class="headerlink" href="#the-hierarchy" title="Permalink to this headline">¶</a></h3>
<p>So far we have used implicit figure and axes creation.
This is handy for fast plots. We can have more control over
the display using <tt class="docutils literal"><span class="pre">figure</span></tt>, <tt class="docutils literal"><span class="pre">subplot</span></tt>, and <tt class="docutils literal"><span class="pre">axes</span></tt> explicitly.
A <tt class="docutils literal"><span class="pre">figure</span></tt> in <tt class="docutils literal"><span class="pre">matplotlib</span></tt> means the whole window in the
user interface. Within this <tt class="docutils literal"><span class="pre">figure</span></tt> there can be subplots.
While <tt class="docutils literal"><span class="pre">subplot</span></tt> positions the plots in a regular grid, <tt class="docutils literal"><span class="pre">axes</span></tt>
allows free placement within the <tt class="docutils literal"><span class="pre">figure</span></tt>. Both can
be useful depending on your intention.
We&#8217;ve already work with figures and subplots without explicitly
calling them.  When we call <tt class="docutils literal"><span class="pre">plot</span></tt> <tt class="docutils literal"><span class="pre">matplotlib</span></tt> calls <tt class="docutils literal"><span class="pre">gca()</span></tt> to
get the current axes and <tt class="docutils literal"><span class="pre">gca</span></tt> in turn calls <tt class="docutils literal"><span class="pre">gcf()</span></tt> to
get the current figure. If there is none it calls <tt class="docutils literal"><span class="pre">figure()</span></tt>
to make one, strictly speaking, to make a <tt class="docutils literal"><span class="pre">subplot(111)</span></tt>.
Let&#8217;s look at the details.</p>
</div>
<div class="section" id="figures">
<h3>1.5.7.2. Figures<a class="headerlink" href="#figures" title="Permalink to this headline">¶</a></h3>
<p>A <tt class="docutils literal"><span class="pre">figure</span></tt> is  the windows in the GUI that has &#8220;Figure #&#8221; as
title. Figures are numbered starting from 1 as opposed to the
normal Python way starting from 0. This is clearly MATLAB-style.
There are several parameters that determine how the figure
looks like:</p>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="28%" />
<col width="54%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Argument</th>
<th class="head">Default</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">num</span></tt></td>
<td><tt class="docutils literal"><span class="pre">1</span></tt></td>
<td>number of figure</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">figsize</span></tt></td>
<td><tt class="docutils literal"><span class="pre">figure.figsize</span></tt></td>
<td>figure size in in inches (width, height)</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">dpi</span></tt></td>
<td><tt class="docutils literal"><span class="pre">figure.dpi</span></tt></td>
<td>resolution in dots per inch</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">facecolor</span></tt></td>
<td><tt class="docutils literal"><span class="pre">figure.facecolor</span></tt></td>
<td>color of the drawing background</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">edgecolor</span></tt></td>
<td><tt class="docutils literal"><span class="pre">figure.edgecolor</span></tt></td>
<td>color of edge around the drawing background</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">frameon</span></tt></td>
<td><tt class="docutils literal"><span class="pre">True</span></tt></td>
<td>draw figure frame or not</td>
</tr>
</tbody>
</table>
<p>The defaults can be specified in the resource file and
will be used most of the time. Only the number of the figure
is frequently changed.</p>
<p>When you work with the GUI you can close a figure by clicking on the
x in the upper right corner. But you can close a figure
programmatically by calling <tt class="docutils literal"><span class="pre">close</span></tt>. Depending on the argument it closes
(1) the current figure (no argument), (2) a specific figure (figure number or figure
instance as argument), or (3) all figures (<tt class="docutils literal"><span class="pre">all</span></tt> as argument).</p>
<p>As with other objects, you can set figure properties also <tt class="docutils literal"><span class="pre">setp</span></tt>
or with the <tt class="docutils literal"><span class="pre">set_something</span></tt> methods.</p>
</div>
<div class="section" id="subplots">
<h3>1.5.7.3. Subplots<a class="headerlink" href="#subplots" title="Permalink to this headline">¶</a></h3>
<p>With <tt class="docutils literal"><span class="pre">subplot</span></tt> you can arrange plots in regular grid. You need to
specify the number of rows and columns and the number of the plot.</p>
<p>A plot with two rows and one column is created with
<tt class="docutils literal"><span class="pre">subplot(211)</span></tt> and <tt class="docutils literal"><span class="pre">subplot(212)</span></tt>. The result looks like this:</p>
<img alt="../../_images/subplots_horizontal.png" src="../../_images/subplots_horizontal.png" style="width: 25%;" />
<p>If you want two plots side by side, you create one row and two columns
with <tt class="docutils literal"><span class="pre">subplot(121)</span></tt> and <tt class="docutils literal"><span class="pre">subplot(112)</span></tt>. The result looks like this:</p>
<img alt="../../_images/subplots_vertical.png" src="../../_images/subplots_vertical.png" style="width: 25%;" />
<p>You can arrange as many figures as you want. A two-by-two arrangement can
be created with <tt class="docutils literal"><span class="pre">subplot(221)</span></tt>,  <tt class="docutils literal"><span class="pre">subplot(222)</span></tt>, <tt class="docutils literal"><span class="pre">subplot(223)</span></tt>, and
<tt class="docutils literal"><span class="pre">subplot(224)</span></tt>. The result looks like this:</p>
<img alt="../../_images/subplots_four.png" src="../../_images/subplots_four.png" style="width: 25%;" />
<p>Frequently, you don&#8217;t want all subplots to have ticks or labels.
You can set the <tt class="docutils literal"><span class="pre">xticklabels</span></tt> or the <tt class="docutils literal"><span class="pre">yticklabels</span></tt> to an empty
list (<tt class="docutils literal"><span class="pre">[]</span></tt>). Every subplot defines the methods <tt class="docutils literal"><span class="pre">'is_first_row</span></tt>,
<tt class="docutils literal"><span class="pre">is_first_col</span></tt>, <tt class="docutils literal"><span class="pre">is_last_row</span></tt>, <tt class="docutils literal"><span class="pre">is_last_col</span></tt>. These can help to
set ticks and labels only for the outer pots.</p>
</div>
<div class="section" id="axes">
<h3>1.5.7.4. Axes<a class="headerlink" href="#axes" title="Permalink to this headline">¶</a></h3>
<p>Axes are very similar to subplots but allow placement of plots
at any location in the figure.  So if we want to put a smaller
plot inside a bigger one we do so with <tt class="docutils literal"><span class="pre">axes</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pl</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  
<span class="go">[&lt;matplotlib.lines.Line2D instance at ...&gt;]</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">axes</span><span class="p">([</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="n">pl</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  
<span class="go">[&lt;matplotlib.lines.Line2D instance at ...&gt;]</span>
</pre></div>
</div>
<p>The result looks like this:</p>
<img alt="../../_images/axes.png" src="../../_images/axes.png" style="width: 25%;" />
<div class="green topic">
<p class="topic-title first">Exercises</p>
<ol class="arabic simple">
<li>Draw two figures, one 5 by 5, one 10 by 10 inches.</li>
<li>Add four subplots to one figure. Add labels and ticks only to
the outermost axes.</li>
<li>Place a small plot in one bigger plot.</li>
</ol>
</div>
</div>
</div>
<div class="section" id="other-types-of-plots">
<h2>1.5.8. Other Types of Plots<a class="headerlink" href="#other-types-of-plots" title="Permalink to this headline">¶</a></h2>
<div class="section" id="many-more">
<h3>1.5.8.1. Many More<a class="headerlink" href="#many-more" title="Permalink to this headline">¶</a></h3>
<p>So far we have used only line plots. <tt class="docutils literal"><span class="pre">matplotlib</span></tt> offers many more types
of plots. We will have a brief look at some of them. All functions have many
optional arguments that are not shown here.</p>
</div>
<div class="section" id="bar-charts">
<h3>1.5.8.2. Bar Charts<a class="headerlink" href="#bar-charts" title="Permalink to this headline">¶</a></h3>
<p>The function <tt class="docutils literal"><span class="pre">bar</span></tt> creates a new bar chart:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pl</span><span class="o">.</span><span class="n">bar</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
</pre></div>
</div>
<p>Now we have three bars starting at 1, 2, and 3 with height of
4, 3, 7 respectively:</p>
<img alt="../../_images/bar.png" src="../../_images/bar.png" style="width: 25%;" />
<p>The default column width is 0.8. It can be changed with
common methods by setting <tt class="docutils literal"><span class="pre">width</span></tt>. As it can be <tt class="docutils literal"><span class="pre">color</span></tt> and
<tt class="docutils literal"><span class="pre">bottom</span></tt>, we can also set an error bar with <tt class="docutils literal"><span class="pre">yerr</span></tt> or <tt class="docutils literal"><span class="pre">xerr</span></tt>.</p>
</div>
<div class="section" id="horizontal-bar-charts">
<h3>1.5.8.3. Horizontal Bar Charts<a class="headerlink" href="#horizontal-bar-charts" title="Permalink to this headline">¶</a></h3>
<p>The function <tt class="docutils literal"><span class="pre">barh</span></tt> creates an vertical bar chart.
Using the same data:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pl</span><span class="o">.</span><span class="n">barh</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
</pre></div>
</div>
<p>We get:</p>
<img alt="../../_images/barh.png" src="../../_images/barh.png" style="width: 25%;" />
<div class="section" id="broken-horizontal-bar-charts">
<h4>1.5.8.3.1. Broken Horizontal Bar Charts<a class="headerlink" href="#broken-horizontal-bar-charts" title="Permalink to this headline">¶</a></h4>
<p>We can also have discontinuous vertical bars with <tt class="docutils literal"><span class="pre">broken_barh</span></tt>.
We specify start and width of the range in y-direction and all
start-width pairs in x-direction:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">yrange</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xranges</span> <span class="o">=</span> <span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pl</span><span class="o">.</span><span class="n">broken_barh</span><span class="p">(</span><span class="n">xranges</span><span class="p">,</span> <span class="n">yrange</span><span class="p">)</span>
</pre></div>
</div>
<p>We changes the extension of the y-axis to make plot look nicer:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="go">(0, 5)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pl</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
<p>and get this:</p>
<img alt="../../_images/broken_barh.png" src="../../_images/broken_barh.png" style="width: 25%;" />
</div>
</div>
<div class="section" id="box-and-whisker-plots">
<h3>1.5.8.4. Box and Whisker Plots<a class="headerlink" href="#box-and-whisker-plots" title="Permalink to this headline">¶</a></h3>
<p>We can draw box and whisker plots:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pl</span><span class="o">.</span><span class="n">boxplot</span><span class="p">((</span><span class="n">arange</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">)))</span>
</pre></div>
</div>
<p>We want to have the whiskers well within the plot and therefore
increase the y axis:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span> <span class="o">=</span> <span class="n">pl</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">12</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
<p>Our plot looks like this:</p>
<img alt="../../_images/boxplot.png" src="../../_images/boxplot.png" style="width: 25%;" />
<p>The range of the whiskers can be determined with the
argument <tt class="docutils literal"><span class="pre">whis</span></tt>, which defaults to 1.5. The range of
the whiskers is between the most extreme data point
within <tt class="docutils literal"><span class="pre">whis*(75%-25%)</span></tt> of the data.</p>
</div>
<div class="section" id="contour-plots">
<h3>1.5.8.5. Contour Plots<a class="headerlink" href="#contour-plots" title="Permalink to this headline">¶</a></h3>
<p>We can also do contour plots. We define arrays for the
x and y coordinates:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p>and also a 2D array for z:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">z</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="mi">7</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span><span class="p">[</span><span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">z</span>
<span class="go">array([[ 1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.],</span>
<span class="go">       [ 1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.],</span>
<span class="go">       [ 1.,  3.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.],</span>
<span class="go">       [ 1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.],</span>
<span class="go">       [ 1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.],</span>
<span class="go">       [ 1.,  1.,  1.,  1.,  1.,  7.,  1.,  1.,  1.,  1.],</span>
<span class="go">       [ 1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.],</span>
<span class="go">       [ 1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.],</span>
<span class="go">       [ 1.,  1.,  1.,  1.,  1.,  1.,  1.,  4.,  1.,  1.],</span>
<span class="go">       [ 1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.,  1.]])</span>
</pre></div>
</div>
<p>Now we can make a simple contour plot:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pl</span><span class="o">.</span><span class="n">contour</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
</pre></div>
</div>
<p>Our plot looks like this:</p>
<img alt="../../_images/contour.png" src="../../_images/contour.png" style="width: 25%;" />
<p>We can also fill the area. We just use numbers form 0 to 9 for
the values <tt class="docutils literal"><span class="pre">v</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pl</span><span class="o">.</span><span class="n">contourf</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">z</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</pre></div>
</div>
<p>Now our plot area is filled:</p>
<img alt="../../_images/contourf.png" src="../../_images/contourf.png" style="width: 25%;" />
</div>
<div class="section" id="histograms">
<h3>1.5.8.6. Histograms<a class="headerlink" href="#histograms" title="Permalink to this headline">¶</a></h3>
<p>We can make histograms. Let&#8217;s get some normally distributed
random numbers from <tt class="docutils literal"><span class="pre">numpy</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">r_numbers</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span> <span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
<p>Now we make a simple histogram:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pl</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">r_numbers</span><span class="p">)</span>
</pre></div>
</div>
<p>With 100 numbers our figure looks pretty good:</p>
<img alt="../../_images/hist.png" src="../../_images/hist.png" style="width: 25%;" />
</div>
<div class="section" id="loglog-plots">
<h3>1.5.8.7. Loglog Plots<a class="headerlink" href="#loglog-plots" title="Permalink to this headline">¶</a></h3>
<p>Plots with logarithmic scales are easy:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pl</span><span class="o">.</span><span class="n">loglog</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1000</span><span class="p">))</span>
</pre></div>
</div>
<p>We set the major and minor grid:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pl</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pl</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">True</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s">&#39;minor&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now we have loglog plot:</p>
<img alt="../../_images/loglog.png" src="../../_images/loglog.png" style="width: 25%;" />
<p>If we want only one axis with a logarithmic scale we can
use <tt class="docutils literal"><span class="pre">semilogx</span></tt> or <tt class="docutils literal"><span class="pre">semilogy</span></tt>.</p>
</div>
<div class="section" id="pie-charts">
<h3>1.5.8.8. Pie Charts<a class="headerlink" href="#pie-charts" title="Permalink to this headline">¶</a></h3>
<p>Pie charts can also be created with a few lines:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">500</span><span class="p">,</span> <span class="mi">700</span><span class="p">,</span> <span class="mi">300</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">labels</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;cats&#39;</span><span class="p">,</span> <span class="s">&#39;dogs&#39;</span><span class="p">,</span> <span class="s">&#39;other&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pl</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">)</span>
</pre></div>
</div>
<p>The result looks as expected:</p>
<img alt="../../_images/pie.png" src="../../_images/pie.png" style="width: 25%;" />
</div>
<div class="section" id="polar-plots">
<h3>1.5.8.9. Polar Plots<a class="headerlink" href="#polar-plots" title="Permalink to this headline">¶</a></h3>
<p>Polar plots are also possible. Let&#8217;s define our <tt class="docutils literal"><span class="pre">r</span></tt> from
0 to 360 and our <tt class="docutils literal"><span class="pre">theta</span></tt> from 0 to 360 degrees. We need to
convert them to radians:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">r</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">360</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">theta</span> <span class="o">=</span> <span class="n">r</span> <span class="o">/</span> <span class="p">(</span><span class="mi">180</span><span class="o">/</span><span class="n">pi</span><span class="p">)</span>
</pre></div>
</div>
<p>Now plot in polar coordinates:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pl</span><span class="o">.</span><span class="n">polar</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>
</pre></div>
</div>
<p>We get a nice spiral:</p>
<img alt="../../_images/polar.png" src="../../_images/polar.png" style="width: 25%;" />
</div>
<div class="section" id="arrow-plots">
<h3>1.5.8.10. Arrow Plots<a class="headerlink" href="#arrow-plots" title="Permalink to this headline">¶</a></h3>
<p>Plotting arrows in 2D plane can be achieved with <tt class="docutils literal"><span class="pre">quiver</span></tt>.
We define the x and y coordinates of the arrow shafts:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
<p>The x and y components of the arrows are specified as 2D arrays:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">u</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">u</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>
</div>
<p>Now we can plot the arrows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pl</span><span class="o">.</span><span class="n">quiver</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span>
</pre></div>
</div>
<p>All arrows point to the upper right, except two. The one
at the location (4, 4) has 3 units in x-direction and the
other at location (1, 1) has -1 unit in y direction:</p>
<img alt="../../_images/quiver.png" src="../../_images/quiver.png" style="width: 25%;" />
</div>
<div class="section" id="scatter-plots">
<h3>1.5.8.11. Scatter Plots<a class="headerlink" href="#scatter-plots" title="Permalink to this headline">¶</a></h3>
<p>Scatter plots print x vs. y diagrams. We define <tt class="docutils literal"><span class="pre">x</span></tt> and <tt class="docutils literal"><span class="pre">y</span></tt>
and make some point in <tt class="docutils literal"><span class="pre">y</span></tt> random:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">7</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mi">3</span>
</pre></div>
</div>
<p>Now make a scatter plot:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pl</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>The three different values for <tt class="docutils literal"><span class="pre">y</span></tt> break out of the line:</p>
<img alt="../../_images/scatter.png" src="../../_images/scatter.png" style="width: 25%;" />
</div>
<div class="section" id="sparsity-pattern-plots">
<h3>1.5.8.12. Sparsity Pattern Plots<a class="headerlink" href="#sparsity-pattern-plots" title="Permalink to this headline">¶</a></h3>
<p>Working with sparse matrices, it is often of interest as
how the matrix looks like in terms of sparsity.
We take an identity matrix as an example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">i</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">identity</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">i</span>
<span class="go">array([[1, 0, 0, 0, 0, 0, 0, 0, 0, 0],</span>
<span class="go">       [0, 1, 0, 0, 0, 0, 0, 0, 0, 0],</span>
<span class="go">       [0, 0, 1, 0, 0, 0, 0, 0, 0, 0],</span>
<span class="go">       [0, 0, 0, 1, 0, 0, 0, 0, 0, 0],</span>
<span class="go">       [0, 0, 0, 0, 1, 0, 0, 0, 0, 0],</span>
<span class="go">       [0, 0, 0, 0, 0, 1, 0, 0, 0, 0],</span>
<span class="go">       [0, 0, 0, 0, 0, 0, 1, 0, 0, 0],</span>
<span class="go">       [0, 0, 0, 0, 0, 0, 0, 1, 0, 0],</span>
<span class="go">       [0, 0, 0, 0, 0, 0, 0, 0, 1, 0],</span>
<span class="go">       [0, 0, 0, 0, 0, 0, 0, 0, 0, 1]])</span>
</pre></div>
</div>
<p>Now we look at it more visually:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pl</span><span class="o">.</span><span class="n">spy</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../../_images/spy.png" src="../../_images/spy.png" style="width: 25%;" />
</div>
<div class="section" id="stem-plots">
<h3>1.5.8.13. Stem Plots<a class="headerlink" href="#stem-plots" title="Permalink to this headline">¶</a></h3>
<p>Stem plots vertical lines at the given x location up to
the specified y location. Let&#8217;s reuse <tt class="docutils literal"><span class="pre">x</span></tt> and <tt class="docutils literal"><span class="pre">y</span></tt>
from our scatter (see above):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pl</span><span class="o">.</span><span class="n">stem</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../../_images/stem.png" src="../../_images/stem.png" style="width: 25%;" />
</div>
<div class="section" id="date-plots">
<h3>1.5.8.14. Date Plots<a class="headerlink" href="#date-plots" title="Permalink to this headline">¶</a></h3>
<p>There is a function for creating date plots.
Let&#8217;s define 10 dates starting at January 1st 2000
at 15.day intervals:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d1</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">delta</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dates</span> <span class="o">=</span> <span class="p">[</span><span class="n">d1</span> <span class="o">+</span> <span class="n">x</span> <span class="o">*</span> <span class="n">delta</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dates</span>
<span class="go">[datetime.datetime(2000, 1, 1, 0, 0),</span>
<span class="go"> datetime.datetime(2000, 1, 16, 0, 0),</span>
<span class="go"> datetime.datetime(2000, 1, 31, 0, 0),</span>
<span class="go"> datetime.datetime(2000, 2, 15, 0, 0),</span>
<span class="go"> datetime.datetime(2000, 3, 1, 0, 0),</span>
<span class="go"> datetime.datetime(2000, 3, 16, 0, 0),</span>
<span class="go"> datetime.datetime(2000, 3, 31, 0, 0),</span>
<span class="go"> datetime.datetime(2000, 4, 15, 0, 0),</span>
<span class="go"> datetime.datetime(2000, 4, 30, 0, 0),</span>
<span class="go"> datetime.datetime(2000, 5, 15, 0, 0)]</span>
</pre></div>
</div>
<p>We reuse our data from the scatter plot (see above):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">y</span>
<span class="go">array([0, 7, 2, 3, 2, 5, 6, 7, 3, 9])</span>
</pre></div>
</div>
<p>Now we can plot the dates at the x axis:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">pl</span><span class="o">.</span><span class="n">plot_date</span><span class="p">(</span><span class="n">dates</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<img alt="../../_images/date.png" src="../../_images/date.png" style="width: 25%;" />
</div>
</div>
<div class="section" id="the-class-library">
<h2>1.5.9. The Class Library<a class="headerlink" href="#the-class-library" title="Permalink to this headline">¶</a></h2>
<p>So far we have used the <tt class="docutils literal"><span class="pre">pylab</span></tt> interface only. As the name
suggests it is just wrapper around the class library. All <tt class="docutils literal"><span class="pre">pylab</span></tt>
commands can be invoked via the class library using an object-oriented
approach.</p>
<div class="section" id="the-figure-class">
<h3>1.5.9.1. The Figure Class<a class="headerlink" href="#the-figure-class" title="Permalink to this headline">¶</a></h3>
<p>The class <tt class="docutils literal"><span class="pre">Figure</span></tt> lives in the module <tt class="docutils literal"><span class="pre">matplotlib.figure</span></tt>.
Its constructor takes these arguments:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">figsize</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
<span class="n">linewidth</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">frameon</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">subplotpars</span><span class="o">=</span><span class="bp">None</span>
</pre></div>
</div>
<p>Comparing this with the arguments of <tt class="docutils literal"><span class="pre">figure</span></tt> in <tt class="docutils literal"><span class="pre">pylab</span></tt> shows
significant overlap:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">num</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="bp">None</span>
<span class="n">edgecolor</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">frameon</span><span class="o">=</span><span class="bp">True</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">Figure</span></tt> provides lots of methods, many of them have equivalents in
<tt class="docutils literal"><span class="pre">pylab</span></tt>. The methods <tt class="docutils literal"><span class="pre">add_axes</span></tt> and <tt class="docutils literal"><span class="pre">add_subplot</span></tt> are called if new
axes or subplot are created with <tt class="docutils literal"><span class="pre">axes</span></tt> or <tt class="docutils literal"><span class="pre">subplot</span></tt> in <tt class="docutils literal"><span class="pre">pylab</span></tt>.
Also the method <tt class="docutils literal"><span class="pre">gca</span></tt> maps directly to <tt class="docutils literal"><span class="pre">pylab</span></tt> as do <tt class="docutils literal"><span class="pre">legend</span></tt>,
<tt class="docutils literal"><span class="pre">text</span></tt> and many others.</p>
<p>There are also several <tt class="docutils literal"><span class="pre">set_something</span></tt> method such as <tt class="docutils literal"><span class="pre">set_facecolor</span></tt> or
<tt class="docutils literal"><span class="pre">set_edgecolor</span></tt> that will be called through <tt class="docutils literal"><span class="pre">pylab</span></tt> to set properties of
the figure. <tt class="docutils literal"><span class="pre">Figure</span></tt> also implements <tt class="docutils literal"><span class="pre">get_something</span></tt> methods
such as <tt class="docutils literal"><span class="pre">get_axes</span></tt> or <tt class="docutils literal"><span class="pre">get_facecolor</span></tt> to get properties of the figure.</p>
</div>
<div class="section" id="the-classes-axes-and-subplot">
<h3>1.5.9.2. The Classes Axes and Subplot<a class="headerlink" href="#the-classes-axes-and-subplot" title="Permalink to this headline">¶</a></h3>
<p>In the class  <tt class="docutils literal"><span class="pre">Axes</span></tt> we find most of the figure elements such as
<tt class="docutils literal"><span class="pre">Axis</span></tt>, <tt class="docutils literal"><span class="pre">Tick</span></tt>, <tt class="docutils literal"><span class="pre">Line2D</span></tt>, or <tt class="docutils literal"><span class="pre">Text</span></tt>. It also sets the coordinate
system. The class <tt class="docutils literal"><span class="pre">Subplot</span></tt> inherits from <tt class="docutils literal"><span class="pre">Axes</span></tt> and adds some
more functionality to arrange the plots in a grid.</p>
<p>Analogous to <tt class="docutils literal"><span class="pre">Figure</span></tt>, it has methods to get and set properties
and methods already encountered as functions in <tt class="docutils literal"><span class="pre">pylab</span></tt> such as
<tt class="docutils literal"><span class="pre">annotate</span></tt>. In addition, <tt class="docutils literal"><span class="pre">Axes</span></tt> has methods for all types of plots
shown in the previous section.</p>
</div>
<div class="section" id="other-classes">
<h3>1.5.9.3. Other Classes<a class="headerlink" href="#other-classes" title="Permalink to this headline">¶</a></h3>
<p>Other classes such as <tt class="docutils literal"><span class="pre">text</span></tt>, <tt class="docutils literal"><span class="pre">Legend</span></tt> or <tt class="docutils literal"><span class="pre">Ticker</span></tt> are setup very
similarly. They can be understood mostly by comparing to the <tt class="docutils literal"><span class="pre">pylab</span></tt>
interface.</p>
</div>
<div class="section" id="example">
<h3>1.5.9.4. Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<p>Let&#8217;s look at an example for using the object-oriented API:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#file matplotlib/oo.py</span>

<span class="kn">from</span> <span class="nn">matplotlib.figure</span> <span class="kn">import</span> <span class="n">Figure</span>          <span class="c">#1</span>

<span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>                              <span class="c">#2</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">Figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">)</span>                 <span class="c">#3</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>                     <span class="c">#4</span>
<span class="n">line</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))[</span><span class="mi">0</span><span class="p">]</span>                  <span class="c">#5</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">&#39;Plotted with OO interface&#39;</span><span class="p">)</span>     <span class="c">#6</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">&#39;measured&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">&#39;calculated&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>                                 <span class="c">#7</span>
<span class="n">line</span><span class="o">.</span><span class="n">set_marker</span><span class="p">(</span><span class="s">&#39;o&#39;</span><span class="p">)</span>                          <span class="c">#8</span>

<span class="kn">from</span> <span class="nn">matplotlib.backends.backend_agg</span> <span class="kn">import</span> <span class="n">FigureCanvasAgg</span> <span class="c">#9</span>
<span class="n">canvas</span> <span class="o">=</span> <span class="n">FigureCanvasAgg</span><span class="p">(</span><span class="n">fig</span><span class="p">)</span>                 <span class="c">#10</span>
<span class="n">canvas</span><span class="o">.</span><span class="n">print_figure</span><span class="p">(</span><span class="s">&quot;oo.png&quot;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">80</span><span class="p">)</span>         <span class="c">#11</span>


<span class="kn">import</span> <span class="nn">Tkinter</span> <span class="kn">as</span> <span class="nn">Tk</span>                          <span class="c">#12</span>
<span class="kn">from</span> <span class="nn">matplotlib.backends.backend_tkagg</span> <span class="kn">import</span> <span class="n">FigureCanvasTkAgg</span> <span class="c">#13</span>

<span class="n">root</span> <span class="o">=</span> <span class="n">Tk</span><span class="o">.</span><span class="n">Tk</span><span class="p">()</span>                                <span class="c">#14</span>
<span class="n">canvas2</span> <span class="o">=</span> <span class="n">FigureCanvasTkAgg</span><span class="p">(</span><span class="n">fig</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="n">root</span><span class="p">)</span> <span class="c">#15</span>
<span class="n">canvas2</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>                                <span class="c">#16</span>
<span class="n">canvas2</span><span class="o">.</span><span class="n">get_tk_widget</span><span class="p">()</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">Tk</span><span class="o">.</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">Tk</span><span class="o">.</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="c">#17</span>
<span class="n">Tk</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>                                 <span class="c">#18</span>

<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">_pylab_helpers</span>         <span class="c">#19</span>
<span class="kn">import</span> <span class="nn">pylab</span>                                  <span class="c">#20</span>

<span class="n">pylab_fig</span> <span class="o">=</span> <span class="n">pylab</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="n">figsize</span><span class="p">)</span>  <span class="c">#21</span>
<span class="n">figManager</span> <span class="o">=</span> <span class="n">_pylab_helpers</span><span class="o">.</span><span class="n">Gcf</span><span class="o">.</span><span class="n">get_active</span><span class="p">()</span>  <span class="c">#22</span>
<span class="n">figManager</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">figure</span> <span class="o">=</span> <span class="n">fig</span>                <span class="c">#23</span>
<span class="n">pylab</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>                                  <span class="c">#24</span>
</pre></div>
</div>
<p>Since we are not in the interactive pylab-mode, we
need to import the class <tt class="docutils literal"><span class="pre">Figure</span></tt> explicitly (<tt class="docutils literal"><span class="pre">#1</span></tt>).</p>
<p>We set the size of our figure to be 8 by 5 inches (<tt class="docutils literal"><span class="pre">#2</span></tt>).
Now we initialize a new figure (<tt class="docutils literal"><span class="pre">#3</span></tt>) and add a subplot
to the figure (<tt class="docutils literal"><span class="pre">#4</span></tt>). The <tt class="docutils literal"><span class="pre">111</span></tt> says one plot at
position 1, 1 just as in MATLAB. We create a new plot with
the numbers from 0 to 9 and at the same time get a reference
to our line (<tt class="docutils literal"><span class="pre">#5</span></tt>). We can add several things to our plot.
So we set a title and labels for the x and y axis (<tt class="docutils literal"><span class="pre">#6</span></tt>).</p>
<p>We also want to see the grid (<tt class="docutils literal"><span class="pre">#7</span></tt>) and would like to have
little filled circles as markers (<tt class="docutils literal"><span class="pre">#8</span></tt>).</p>
<p>There are many different backends for rendering our figure.
We use the Anti-Grain Geometry toolkit (<a class="reference external" href="http://www.antigrain.com">http://www.antigrain.com</a>)
to render our figure. First, we import the backend (<tt class="docutils literal"><span class="pre">#9</span></tt>), then
we create a new canvas that renders our figure (<tt class="docutils literal"><span class="pre">#10</span></tt>).
We save our figure in a png-file with a resolution of 80 dpi (<tt class="docutils literal"><span class="pre">#11</span></tt>).</p>
<p>We can use several GUI toolkits directly. So we import Tkinter (<tt class="docutils literal"><span class="pre">#12</span></tt>)
as well as the corresponding backend (<tt class="docutils literal"><span class="pre">#13</span></tt>).
Now we have to do some basic GUI programming work. We make a root
object for our GUI (<tt class="docutils literal"><span class="pre">#14</span></tt>) and feed it together with our figure to
the backend to get our canvas (<tt class="docutils literal"><span class="pre">15</span></tt>). We call the show method (<tt class="docutils literal"><span class="pre">#16</span></tt>),
pack our widget (<tt class="docutils literal"><span class="pre">#17</span></tt>), and call the Tkinter mainloop to start
the application (<tt class="docutils literal"><span class="pre">#18</span></tt>). You should see GUI window with the figure
on your screen. After closing the screen, the next part, the script, will
be executed.</p>
<p>We would like to create a screen display just as we would use
<tt class="docutils literal"><span class="pre">pylab</span></tt>. Therefore we import a helper (<tt class="docutils literal"><span class="pre">#19</span></tt>) and <tt class="docutils literal"><span class="pre">pylab</span></tt>
itself (<tt class="docutils literal"><span class="pre">#20</span></tt>). We create a normal figure with <tt class="docutils literal"><span class="pre">pylab`</span> <span class="pre">(``21</span></tt>)
and get the corresponding figure manager (<tt class="docutils literal"><span class="pre">#22</span></tt>). Now let&#8217;s set
our figure we created above to be the current figure (<tt class="docutils literal"><span class="pre">#23</span></tt>)
and let <tt class="docutils literal"><span class="pre">pylab</span></tt> show the result (<tt class="docutils literal"><span class="pre">#24</span></tt>).
The lower part of the figure might be cover by the toolbar.
If so, please adjust the <tt class="docutils literal"><span class="pre">figsize</span></tt> for <tt class="docutils literal"><span class="pre">pylab</span></tt> accordingly.</p>
<div class="green topic">
<p class="topic-title first">Exercises</p>
<ol class="arabic simple">
<li>Use the object-oriented API of matplotlib to create a png-file
with a plot of two lines, one linear and square with a legend in it.</li>
</ol>
</div>
</div>
</div>
</div>


          </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../scipy.html" title="1.6. Scipy : high-level scientific computing"
             >next</a></li>
        <li class="right" >
          <a href="../help/help.html" title="1.4. Getting help and finding documentation"
             >previous</a> |</li>
        <li><a href="../../index.html">Scipy lecture notes</a> &raquo;</li>
          <li><a href="../index.html" >1. Getting started with Python for science</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>